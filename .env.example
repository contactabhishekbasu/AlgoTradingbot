# AlgoTradingbot Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git!

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=trading
POSTGRES_USER=trading_user
POSTGRES_PASSWORD=your_secure_password_here_change_this
POSTGRES_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}
REDIS_DB=0
REDIS_CACHE_TTL=300

# ============================================================================
# API Keys
# ============================================================================
# Alpaca Trading API (Paper Trading)
ALPACA_API_KEY=your_alpaca_api_key_here
ALPACA_SECRET_KEY=your_alpaca_secret_key_here
ALPACA_BASE_URL=https://paper-api.alpaca.markets
ALPACA_PAPER_TRADING=true

# Alpaca Trading API (Live Trading - ONLY when ready!)
# ALPACA_LIVE_API_KEY=your_live_api_key_here
# ALPACA_LIVE_SECRET_KEY=your_live_secret_key_here
# ALPACA_LIVE_BASE_URL=https://api.alpaca.markets

# Alpha Vantage (for additional data, optional)
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here

# News API (for sentiment analysis, optional)
NEWS_API_KEY=your_news_api_key_here

# ============================================================================
# Firebase (for authentication, future)
# ============================================================================
FIREBASE_API_KEY=
FIREBASE_AUTH_DOMAIN=
FIREBASE_PROJECT_ID=
FIREBASE_STORAGE_BUCKET=
FIREBASE_MESSAGING_SENDER_ID=
FIREBASE_APP_ID=

# ============================================================================
# Application Configuration
# ============================================================================
# Environment: development, staging, production
ENVIRONMENT=development

# Application
APP_NAME=AlgoTradingbot
APP_VERSION=0.1.0

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_PATH=./logs

# Timezone
TZ=America/New_York

# ============================================================================
# Model Configuration
# ============================================================================
MODEL_PATH=./models
MODEL_DEVICE=mps
MODEL_QUANTIZATION=int8
MODEL_BATCH_SIZE=32

# Model update frequency: daily, weekly, monthly
MODEL_UPDATE_FREQUENCY=daily

# ============================================================================
# Trading Configuration
# ============================================================================
# Initial capital for backtesting
INITIAL_CAPITAL=100000

# Position sizing
MAX_POSITION_SIZE=0.10
POSITION_SIZING_METHOD=kelly

# Risk management
MAX_DRAWDOWN=0.20
STOP_LOSS_PERCENT=0.05
RISK_PER_TRADE=0.02

# Transaction costs
COMMISSION_PER_SHARE=0.005
SLIPPAGE_PERCENT=0.001

# Trading hours (Eastern Time)
MARKET_OPEN=09:30
MARKET_CLOSE=16:00

# ============================================================================
# Backtesting Configuration
# ============================================================================
# Walk-forward analysis
TRAIN_PERIOD_DAYS=252
TEST_PERIOD_DAYS=21

# Risk-free rate for Sharpe ratio calculation
RISK_FREE_RATE=0.04

# Statistical significance level
SIGNIFICANCE_LEVEL=0.05

# ============================================================================
# Performance & Optimization
# ============================================================================
# Cache settings
CACHE_ENABLED=true
CACHE_TTL_SECONDS=300

# Worker threads
MAX_WORKERS=4

# Batch processing
BATCH_SIZE=32
PREFETCH_SIZE=2

# Database connection pool
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ============================================================================
# Monitoring & Alerting (Future)
# ============================================================================
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_ENABLED=false

# Grafana
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# Sentry (Error tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=${ENVIRONMENT}

# ============================================================================
# Email Notifications (Future)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
ALERT_EMAIL=

# ============================================================================
# Development Tools
# ============================================================================
# PgAdmin
PGADMIN_EMAIL=admin@algotrading bot.local
PGADMIN_PASSWORD=admin

# Debug mode
DEBUG=false
VERBOSE=false

# Test mode (disable real trading)
TEST_MODE=true

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_PAPER_TRADING=true
ENABLE_LIVE_TRADING=false
ENABLE_SENTIMENT_ANALYSIS=false
ENABLE_MULTI_ASSET=false
ENABLE_WEB_DASHBOARD=false
ENABLE_ONLINE_LEARNING=false

# ============================================================================
# Security
# ============================================================================
# Secret key for encryption (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=your_secret_key_here_generate_a_secure_one

# JWT settings (future)
JWT_SECRET_KEY=your_jwt_secret_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ============================================================================
# Rate Limiting
# ============================================================================
# API rate limits
YFINANCE_RATE_LIMIT=2000
ALPACA_RATE_LIMIT=200

# Request timeout
REQUEST_TIMEOUT_SECONDS=30

# ============================================================================
# Data Sources
# ============================================================================
# Primary data source: yfinance, alpaca, polygon
PRIMARY_DATA_SOURCE=yfinance

# Data refresh interval (seconds)
DATA_REFRESH_INTERVAL=60

# Historical data start date
HISTORICAL_DATA_START=2015-01-01

# ============================================================================
# Strategy Configuration
# ============================================================================
# Active strategies (comma-separated)
ACTIVE_STRATEGIES=mean_reversion

# Strategy parameters
MEAN_REVERSION_RSI_PERIOD=14
MEAN_REVERSION_RSI_OVERSOLD=30
MEAN_REVERSION_RSI_OVERBOUGHT=70
MEAN_REVERSION_WILLIAMS_R_PERIOD=14

# ============================================================================
# Notifications
# ============================================================================
# Notification channels: email, slack, telegram
NOTIFICATION_CHANNELS=

# Slack webhook (optional)
SLACK_WEBHOOK_URL=

# Telegram bot (optional)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ============================================================================
# Claude Desktop MCP Configuration
# ============================================================================
# MCP server configuration is in ~/.config/claude/claude_desktop_config.json
# This section is for reference only

# MCP server ports (if using HTTP instead of stdio)
# MCP_YFINANCE_PORT=8001
# MCP_ML_PREDICTOR_PORT=8002
# MCP_BACKTESTING_PORT=8003
# MCP_ALPACA_PORT=8004
# MCP_PORTFOLIO_PORT=8005

# ============================================================================
# Notes
# ============================================================================
# 1. Never commit .env to version control
# 2. Keep .env.example updated with new variables
# 3. Use strong passwords and keys
# 4. Rotate API keys regularly
# 5. Use paper trading until system is validated
# 6. Monitor costs and rate limits
